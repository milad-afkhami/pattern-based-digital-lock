> **[๐ฌ๐ง English Version](README.md)**

# ููู ุฏุฌุชุงู ูุจุชู ุจุฑ ุงูฺฏู

ฺฉ ูพุงุฏูโุณุงุฒ ุณุฎุชโุงูุฒุงุฑ ุงุฒ ููู ุฏุฌุชุงู ูุจุชู ุจุฑ ุงูฺฏู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงุดู ุญุงูุช ูุชูุงู (FSM) ุฏุฑ VHDL. ุงู ููู ูุงุฒ ุจู ฺฉ ุชูุงู ุฎุงุต ด ุฏฺฉููโุง (A โ B โ C โ A) ุจุฑุง ุจุงุฒ ุดุฏู ุฏุงุฑุฏ ู ุฏุงุฑุง ูุงุจูุชโูุง ููู ุฎูุฏฺฉุงุฑ ูุฌุฏุฏุ ุญุฐู ููุฒ ุฏฺฉูู ู ูุฏุฑุช ุฌุงูุน ุฎุทุง ุงุณุช.

<details>
<summary>VHDL ฺุณุชุ</summary>

VHDL (ุฒุจุงู ุชูุตู ุณุฎุชโุงูุฒุงุฑ VHSIC) ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ุจุฑุง ุชูุตู ูุฏุงุฑูุง ุฏุฌุชุงู ุงุณุช. ุจุฑุฎูุงู ูุฑูโุงูุฒุงุฑ ฺฉู ุฑู ูพุฑุฏุงุฒูุฏู ุงุฌุฑุง ูโุดูุฏุ ฺฉุฏ VHDL ุณุฎุชโุงูุฒุงุฑ ูุงูุน ุฑุง ุชูุตู ูโฺฉูุฏ ฺฉู ุจู ฺูพโูุง (FPGA ุง ASIC) ุชุจุฏู ูโุดูุฏ. ุขู ุฑุง ูุงููุฏ ููุดูโุง ุจุฑุง ูุฏุงุฑูุง ุงูฺฉุชุฑููฺฉ ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ.

</details>

---

## ููุฑุณุช ูุทุงูุจ

- [ูฺฺฏโูุง](#ูฺฺฏูุง)
- [ุดุฑูุน ุณุฑุน](#ุดุฑูุน-ุณุฑุน)
- [ุณุงุฎุชุงุฑ ูพุฑูฺู](#ุณุงุฎุชุงุฑ-ูพุฑูฺู)
- [ูุญูู ฺฉุงุฑฺฉุฑุฏ](#ูุญูู-ฺฉุงุฑฺฉุฑุฏ)
- [ุณุงุฎุช ู ุงุฌุฑุง](#ุณุงุฎุช-ู-ุงุฌุฑุง)
- [ุชุณุช](#ุชุณุช)
- [ุณูุชุฒ ุจุฑุง FPGA](#ุณูุชุฒ-ุจุฑุง-fpga)
- [ูุดุงูุฏู ุดฺฉู ููุฌ](#ูุดุงูุฏู-ุดฺฉู-ููุฌ)
- [ุนุจโุงุจ](#ุนุจุงุจ)
- [ูุณุชูุฏุงุช](#ูุณุชูุฏุงุช)

---

## ูฺฺฏโูุง

- **ููู ุงูฺฏู ุงูู**: ุชูุงู ุจุงุฒ ฺฉุฑุฏู ด ุฏฺฉููโุง (A โ B โ C โ A)
- **ุญุฐู ููุฒ ุฏฺฉูู**: ููุชุฑ ฺฉุฑุฏู ููุณุงูุงุช ูฺฉุงูฺฉ ุฏฺฉูู ุจุฑุง ูุฑูุฏ ูุงุจู ุงุนุชูุงุฏ
- **ุชุงูุฑ ููู ุฎูุฏฺฉุงุฑ**: ููู ุดุฏู ุฎูุฏฺฉุงุฑ ูพุณ ุงุฒ ฺฉ ุจุงุฒู ุฒูุงู ูุงุจู ุชูุธู
- **ูุญุงูุธุช ุฏุฑ ุจุฑุงุจุฑ ูุฑูุฏ ุงุดุชุจุงู**: ุจุงุฒฺฏุดุช ุจู ุญุงูุช ููู ุดุฏู ุจุง ูุดุฑุฏู ุฏฺฉูู ูุงุฏุฑุณุช
- **ฺฉุงููุงู ูุงุจู ุณูุชุฒ**: ุขูุงุฏู ุจุฑุง ูพุงุฏูโุณุงุฒ ุฑู FPGA
- **ูุฌููุนู ุชุณุช ุฌุงูุน**: ุจุด ุงุฒ ดด ุจุฑุฑุณ ุชุณุช ุฏุฑ ต ุชุณุชโุจูฺ

---

## ุดุฑูุน ุณุฑุน

### ูพุดโูุงุฒูุง

- **GHDL**: ุดุจูโุณุงุฒ ูุชูโุจุงุฒ VHDL
- **GTKWave** (ุงุฎุชุงุฑ): ููุงุดโุฏููุฏู ุดฺฉู ููุฌ ุจุฑุง ุงุดฺฉุงูโุฒุฏุง

<details>
<summary>ูุตุจ GHDL ู GTKWave ุฑู Ubuntu/Debian</summary>

```bash
sudo apt update
sudo apt install ghdl gtkwave
```

</details>

<details>
<summary>ูุตุจ GHDL ู GTKWave ุฑู macOS</summary>

```bash
brew install ghdl
brew install --cask gtkwave
```

</details>

<details>
<summary>ูุตุจ GHDL ู GTKWave ุฑู Windows</summary>

1. ุฏุงูููุฏ GHDL ุงุฒ: https://github.com/ghdl/ghdl/releases
2. ุฏุงูููุฏ GTKWave ุงุฒ: https://gtkwave.sourceforge.net/
3. ูุฑ ุฏู ุฑุง ุจู PATH ุณุณุชู ุงุถุงูู ฺฉูุฏ

</details>

### ุงุฌุฑุง ุงููู ุดุจูโุณุงุฒ

**ุงุณุชูุงุฏู ุงุฒ ุงุณฺฉุฑูพุชโูุง (ูพุดููุงุฏ):**

```bash
# ุฑูุชู ุจู ุฏุงุฑฺฉุชูุฑ ูพุฑูฺู
cd pattern-based-digital-lock

# ูุตุจ ูุงุจุณุชฺฏโูุง (ููุท ุจุงุฑ ุงูู)
./scripts/install.sh

# ุณุงุฎุช ู ุชุณุช
./scripts/build.sh
./scripts/test.sh

# ูุดุงูุฏู ุดฺฉู ููุฌโูุง (ุงุฎุชุงุฑ)
./scripts/wave.sh
```

<details>
<summary>ุฏุณุชูุฑุงุช ุฏุณุช (ุฏุฑ ุตูุฑุช ุชูุงู)</summary>

```bash
# ฺฉุงููพุงู ููู ูุงูโูุง ููุจุน
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 src/button_debouncer.vhd
ghdl -a --std=08 src/top_level.vhd

# ฺฉุงููพุงู ู ุงุฌุฑุง ุชุณุชโุจูฺ ุงุตู
ghdl -a --std=08 testbench/tb_digital_lock.vhd
ghdl -e --std=08 tb_digital_lock
ghdl -r --std=08 tb_digital_lock --wave=simulation/tb_digital_lock.ghw

# ูุดุงูุฏู ูุชุงุฌ
gtkwave simulation/tb_digital_lock.ghw
```

</details>

<details>
<summary>ูุนู ุฏุณุชูุฑุงุช GHDL ฺุณุชุ</summary>

- `ghdl -a`: **ุชุญูู** (ฺฉุงููพุงู) ฺฉ ูุงู VHDLุ ุจุฑุฑุณ ุฎุทุงูุง ูุญู
- `ghdl -e`: **ุชูุณุนู** (ููฺฉ) ฺฉ ุทุฑุงุญุ ุขูุงุฏูโุณุงุฒ ุจุฑุง ุดุจูโุณุงุฒ
- `ghdl -r`: **ุงุฌุฑุง** ุดุจูโุณุงุฒ
- `--std=08`: ุงุณุชูุงุฏู ุงุฒ ุงุณุชุงูุฏุงุฑุฏ VHDL-2008
- `--wave=file.ghw`: ุฐุฎุฑู ุดฺฉู ููุฌโูุง ุณฺฏูุงู ุฏุฑ ฺฉ ูุงู ุจุฑุง ูุดุงูุฏู

</details>

---

## ุณุงุฎุชุงุฑ ูพุฑูฺู

```
pattern-based-digital-lock/
โโโ README.md                 # ุงู ูุงู
โโโ README-fa.md              # ูุณุฎู ูุงุฑุณ
โโโ PRD.md                    # ุณูุฏ ูุงุฒููุฏโูุง ูุญุตูู
โโโ scripts/                  # ุงุณฺฉุฑูพุชโูุง ุงุชููุงุณูู
โ   โโโ README.md
โ   โโโ install.sh            # ูุตุจ ูุงุจุณุชฺฏโูุง
โ   โโโ build.sh              # ฺฉุงููพุงู ูุงูโูุง ููุจุน
โ   โโโ test.sh               # ุงุฌุฑุง ุชุณุชโุจูฺโูุง
โ   โโโ synth.sh              # ุจุฑุฑุณ ูุงุจูุช ุณูุชุฒ
โ   โโโ wave.sh               # ุจุงุฒ ฺฉุฑุฏู ููุงุดโุฏููุฏู ุดฺฉู ููุฌ
โ   โโโ clean.sh              # ุญุฐู ูุงูโูุง ุชููุฏ ุดุฏู
โโโ src/                      # ูุงูโูุง ููุจุน VHDL
โ   โโโ README.md
โ   โโโ digital_lock.vhd      # ฺฉูุชุฑูุฑ ุงุตู FSM
โ   โโโ button_debouncer.vhd  # ูุฏุงุฑ ุญุฐู ููุฒ ุฏฺฉูู
โ   โโโ top_level.vhd         # ฺฉูพุงุฑฺูโุณุงุฒ ุณุณุชู
โโโ testbench/                # ูุงูโูุง ุชุณุช
โ   โโโ README.md
โ   โโโ tb_digital_lock.vhd   # ุชุณุชโูุง ูุงุญุฏ FSM
โ   โโโ tb_top_level.vhd      # ุชุณุชโูุง ฺฉุงูู ุณุณุชู
โ   โโโ tb_fsm_coverage.vhd   # ุชุณุชโูุง ูพูุดุด ุญุงูุช
โ   โโโ tb_edge_cases.vhd     # ุชุณุชโูุง ุดุฑุงุท ูุฑุฒ
โ   โโโ tb_debouncer.vhd      # ุชุณุชโูุง ูุงุญุฏ debouncer
โโโ simulation/               # ุฎุฑูุฌโูุง ุดุจูโุณุงุฒ
โ   โโโ README.md
โ   โโโ *.ghw                 # ูุงูโูุง ุดฺฉู ููุฌ
โโโ synthesis/                # ุฎุฑูุฌโูุง ุณูุชุฒ
โ   โโโ README.md
โโโ docs/                     # ูุณุชูุฏุงุช ุชูุตู
    โโโ digital_lock.md
    โโโ button_debouncer.md
    โโโ top_level.md
    โโโ testbenches.md
```

---

## ูุญูู ฺฉุงุฑฺฉุฑุฏ

### ููุง ฺฉู ูุงุดู ุญุงูุช

ููู ุจู ุตูุฑุช ฺฉ ูุงุดู ุญุงูุช ูุชูุงู ต ุญุงูุชู ฺฉุงุฑ ูโฺฉูุฏ:

```mermaid
stateDiagram-v2
    [*] --> LOCKED: ุฑุณุช

    LOCKED --> FIRST: ุฏฺฉูู A
    LOCKED --> LOCKED: B, C, D (ูุงุฏุฏู ฺฏุฑูุชู ูโุดูุฏ)

    FIRST --> SECOND: ุฏฺฉูู B
    FIRST --> LOCKED: A, C, D (ุงุดุชุจุงู)

    SECOND --> THIRD: ุฏฺฉูู C
    SECOND --> LOCKED: A, B, D (ุงุดุชุจุงู)

    THIRD --> UNLOCKED: ุฏฺฉูู A
    THIRD --> LOCKED: B, C, D (ุงุดุชุจุงู)

    UNLOCKED --> LOCKED: ูพุงุงู ุฒูุงู

    note right of LOCKED: lock_status = '0'
    note right of UNLOCKED: lock_status = '1'
```

<details>
<summary>ูููุฏุงุฑ ูุชู (ุงฺฏุฑ Mermaid ุฑูุฏุฑ ููโุดูุฏ)</summary>

```
                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ                                          โ
                    โผ                                          โ
    โโโโโโโโโโโ    A    โโโโโโโโโโโ    B    โโโโโโโโโโโ    C    โโโโโโโโโโโ    A    โโโโโโโโโโโโ
    โ LOCKED  โโโโโโโโโโถโ FIRST   โโโโโโโโโโถโ SECOND  โโโโโโโโโโถโ THIRD   โโโโโโโโโโถโ UNLOCKED โ
    โโโโโโโโโโโ         โโโโโโโโโโโ         โโโโโโโโโโโ         โโโโโโโโโโโ         โโโโโโโโโโโโ
         โฒ                   โ                   โ                   โ                    โ
         โ                   โ ุฏฺฉูู              โ ุฏฺฉูู              โ ุฏฺฉูู               โ ูพุงุงู
         โ                   โ ุงุดุชุจุงู            โ ุงุดุชุจุงู            โ ุงุดุชุจุงู             โ ุฒูุงู
         โโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโ
```

</details>

<details>
<summary>ุฏุฑฺฉ ูุงุดูโูุง ุญุงูุช</summary>

ฺฉ ูุงุดู ุญุงูุช ูุชูุงู (FSM) ูุงููุฏ ฺฉ ูููฺุงุฑุช ุงุณุช ฺฉู ุณุฎุชโุงูุฒุงุฑ ุงุฒ ุขู ูพุฑู ูโฺฉูุฏ:

1. **ุญุงูุชโูุง**: ุญุงูุชโูุง ูุฎุชูู ฺฉู ุณุณุชู ูโุชูุงูุฏ ุฏุฑ ุขู ุจุงุดุฏ (LOCKEDุ FIRSTุ SECOND ู ุบุฑู)
2. **ุงูุชูุงูโูุง**: ููุงูู ุญุฑฺฉุช ุจู ุญุงูุชโูุง (ูุซูุงู "ุงฺฏุฑ ุฏฺฉูู A ูุดุฑุฏู ุดุฏุ ุจู FIRST ุจุฑู")
3. **ุฎุฑูุฌโูุง**: ฺฉุงุฑ ฺฉู ุณุณุชู ุฏุฑ ูุฑ ุญุงูุช ุงูุฌุงู ูโุฏูุฏ (ูุซูุงู lock_status = '0' ุฏุฑ LOCKED)

ููู ุงุฒ ุญุงูุช LOCKED ุดุฑูุน ูโุดูุฏ ู ููุท ุจุง ูุดุฑุฏู ุฏฺฉููโูุง ุจู ุชุฑุชุจ ุฏูู A โ B โ C โ A ุจู ุญุงูุช UNLOCKED ูโุฑุณุฏ

</details>

### ุชูุงู ุจุงุฒ ฺฉุฑุฏู

```mermaid
sequenceDiagram
    participant User as ฺฉุงุฑุจุฑ
    participant Debouncer as ุญุฐูโฺฉููุฏู ููุฒ
    participant FSM
    participant LED

    Note over FSM: ุญุงูุช: LOCKED
    User->>Debouncer: ูุดุฑุฏู A
    Debouncer->>FSM: pulse_A
    Note over FSM: ุญุงูุช: FIRST

    User->>Debouncer: ูุดุฑุฏู B
    Debouncer->>FSM: pulse_B
    Note over FSM: ุญุงูุช: SECOND

    User->>Debouncer: ูุดุฑุฏู C
    Debouncer->>FSM: pulse_C
    Note over FSM: ุญุงูุช: THIRD

    User->>Debouncer: ูุดุฑุฏู A
    Debouncer->>FSM: pulse_A
    Note over FSM: ุญุงูุช: UNLOCKED
    FSM->>LED: lock_status = '1'
    Note over LED: LED ุฑูุดู

    Note over FSM: ูพุงุงู ุฒูุงู ุชุงูุฑ...
    Note over FSM: ุญุงูุช: LOCKED
    FSM->>LED: lock_status = '0'
    Note over LED: LED ุฎุงููุด
```

| ูุฑุญูู | ูุดุฑุฏู | ุญุงูุช ูุนู | ุญุงูุช ุจุนุฏ |
|-------|-------|-----------|-----------|
| ฑ     | A     | LOCKED    | FIRST     |
| ฒ     | B     | FIRST     | SECOND    |
| ณ     | C     | SECOND    | THIRD     |
| ด     | A     | THIRD     | UNLOCKED  |

### ูุฏุฑุช ุฎุทุง

- **ุฏฺฉูู ุงุดุชุจุงู**: ุจุงุฒฺฏุดุช ููุฑ ุจู ุญุงูุช LOCKED
- **ุณฺฏูุงู ุฑุณุช**: ุจุงุฒฺฏุดุช ุจู LOCKED ุงุฒ ูุฑ ุญุงูุช
- **ูพุงุงู ุฒูุงู**: ููู ุฎูุฏฺฉุงุฑ ูพุณ ุงุฒ ุฒูุงู ูุงุจู ุชูุธู (ูพุดโูุฑุถ: ต ุณฺฉู ฺฉูุงฺฉ ุฏุฑ ุดุจูโุณุงุฒ)

---

## ุณุงุฎุช ู ุงุฌุฑุง

### ุงุณุชูุงุฏู ุงุฒ ุงุณฺฉุฑูพุชโูุง (ูพุดููุงุฏ)

```bash
# ุณุงุฎุช ููู ูุงูโูุง ููุจุน
./scripts/build.sh

# ุงุฌุฑุง ููู ุชุณุชโูุง
./scripts/test.sh

# ุงุฌุฑุง ฺฉ ุชุณุช ุฎุงุต
./scripts/test.sh tb_digital_lock

# ุงุฌุฑุง ุชุณุชโูุง ุจุฏูู ุชููุฏ ุดฺฉู ููุฌ (ุณุฑุนโุชุฑ)
./scripts/test.sh --no-wave

# ูุดุงูุฏู ุดฺฉู ููุฌโูุง
./scripts/wave.sh tb_digital_lock

# ูพุงฺฉโุณุงุฒ artifacts ุณุงุฎุช
./scripts/clean.sh
```

<details>
<summary>ุฏุณุชูุฑุงุช ฺฉุงููพุงู ุฏุณุช</summary>

```bash
# ุชุญูู (ฺฉุงููพุงู) ูุงูโูุง ููุจุน ุจู ุชุฑุชุจ ูุงุจุณุชฺฏ
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 src/button_debouncer.vhd
ghdl -a --std=08 src/top_level.vhd

# ุชุญูู ุชุณุชโุจูฺโูุง
ghdl -a --std=08 testbench/tb_digital_lock.vhd
ghdl -a --std=08 testbench/tb_top_level.vhd
ghdl -a --std=08 testbench/tb_fsm_coverage.vhd
ghdl -a --std=08 testbench/tb_edge_cases.vhd
ghdl -a --std=08 testbench/tb_debouncer.vhd

# ุชูุณุนู ู ุงุฌุฑุง
ghdl -e --std=08 tb_digital_lock
ghdl -r --std=08 tb_digital_lock --wave=simulation/tb_digital_lock.ghw
```

</details>

<details>
<summary>ฺุฑุง ุชุฑุชุจ ฺฉุงููพุงู ููู ุงุณุชุ</summary>

ูุงูโูุง VHDL ุจุงุฏ ุจู ุชุฑุชุจ ูุงุจุณุชฺฏ ฺฉุงููพุงู ุดููุฏ:
1. `digital_lock.vhd` - ุจุฏูู ูุงุจุณุชฺฏ
2. `button_debouncer.vhd` - ุจุฏูู ูุงุจุณุชฺฏ
3. `top_level.vhd` - ูุงุจุณุชู ุจู ูุฑ ุฏู ุจุงูุง
4. ุชุณุชโุจูฺโูุง - ูุงุจุณุชู ุจู ฺฉุงููพูููุชโูุง ฺฉู ุชุณุช ูโฺฉููุฏ

ุงฺฏุฑ ุจู ุชุฑุชุจ ูุงุฏุฑุณุช ฺฉุงููพุงู ฺฉูุฏุ ุฎุทุง "component not found" ุฏุฑุงูุช ุฎูุงูุฏ ฺฉุฑุฏ.

</details>

---

## ุชุณุช

### ูุฌููุนูโูุง ุชุณุช

| ุชุณุชโุจูฺ | ูุฏู | ุชุณุชโูุง |
|---------|-----|--------|
| `tb_digital_lock` | ุนููฺฉุฑุฏ ุงุตู FSM | ถ ููุฑุฏ ุชุณุช |
| `tb_top_level` | ุณุณุชู ฺฉุงูู ุจุง debouncing | ฑฑ ููุฑุฏ ุชุณุช |
| `tb_fsm_coverage` | ูพูุดุด ฑฐฐูช ุญุงูุช | ููู ุญุงูุชโูุง ู ุงูุชูุงูโูุง |
| `tb_edge_cases` | ุดุฑุงุท ูุฑุฒ | ฒฒ ุจุฑุฑุณ |
| `tb_debouncer` | ุชุณุช ูุงุญุฏ debouncer | ด ููุฑุฏ ุชุณุช |

### ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ

ฺฉ ุงุฌุฑุง ุชุณุช ูููู ูุดุงู ูโุฏูุฏ:
```
=== Starting Digital Lock Testbench ===
TC1: Testing reset functionality
TC1 PASSED: Reset works correctly
TC2: Testing correct sequence A->B->C->A
TC2 PASSED: Correct sequence unlocks the system
...
=== All Test Cases Completed ===
=== Digital Lock Testbench PASSED ===
```

<details>
<summary>ุฏุฑฺฉ ุฎุฑูุฌ ุชุณุช</summary>

- **note**: ูพุงูโูุง ุงุทูุงุนุงุช (ูพุดุฑูุช ุชุณุช)
- **warning**: ูุณุงุฆู ุบุฑ ุจุญุฑุงู
- **error**: ุดฺฉุณุช ุชุณุช (ุจุฑุฑุณโูุง ฺฉู ุดฺฉุณุช ุฎูุฑุฏูุฏ)
- **failure**: ุฎุทุงูุง ฺฉุดูุฏู (ุดุจูโุณุงุฒ ูุชููู ูโุดูุฏ)

ุงฺฏุฑ "PASSED" ุฑุง ุฏุฑ ุงูุชูุง ูโุจูุฏุ ููู ุชุณุชโูุง ูููู ุจูุฏูโุงูุฏ!

</details>

### ุฌุฒุฆุงุช ููุงุฑุฏ ุชุณุช

**TC1 - ุชุณุช ุฑุณุช**: ุชุฃุฏ ูโฺฉูุฏ ุณุณุชู ูพุณ ุงุฒ ุฑุณุช ุฏุฑ ุญุงูุช LOCKED ุดุฑูุน ูโุดูุฏ

**TC2 - ุชูุงู ุตุญุญ**: ุชุณุช ูโฺฉูุฏ AโBโCโA ุณุณุชู ุฑุง ุจุงุฒ ูโฺฉูุฏ

**TC3 - ุชูุงู ุงุดุชุจุงู**: ุชุณุช ูโฺฉูุฏ AโBโD ุณุณุชู ุฑุง ููู ูฺฏู ูโุฏุงุฑุฏ

**TC4 - ุฏฺฉูู ุงูู ุงุดุชุจุงู**: ุชุณุช ุจุงุฒุงุจ ูพุณ ุงุฒ ูุดุฑุฏู B ุงูู

**TC5 - ููู ุฎูุฏฺฉุงุฑ**: ุชุณุช ููู ุดุฏู ุฎูุฏฺฉุงุฑ ูพุณ ุงุฒ ูพุงุงู ุฒูุงู

**TC6 - ุฑุณุช ุญู ุชูุงู**: ุชุณุช ูโฺฉูุฏ ุฑุณุช ูพุดุฑูุช ุฌุฒุฆ ุฑุง ูพุงฺฉ ูโฺฉูุฏ

---

## ุณูุชุฒ ุจุฑุง FPGA

### ุจุฑุฑุณ ูุงุจูุช ุณูุชุฒ

```bash
# ุงุณุชูุงุฏู ุงุฒ ุงุณฺฉุฑูพุช (ูพุดููุงุฏ)
./scripts/synth.sh

# ุง ุจู ุตูุฑุช ุฏุณุช
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 src/button_debouncer.vhd
ghdl -a --std=08 src/top_level.vhd
ghdl --synth --std=08 top_level
```

<details>
<summary>ุณูุชุฒ ฺุณุชุ</summary>

**ุณูุชุฒ** ฺฉุฏ VHDL ุฑุง ุจู ุณุฎุชโุงูุฒุงุฑ ูุงูุน ุชุจุฏู ูโฺฉูุฏ:
1. ฺฉุฏ VHDL ุดูุง ุชูุตู ูโฺฉูุฏ ูุฏุงุฑ *ฺู ฺฉุงุฑ* ุจุงุฏ ุงูุฌุงู ุฏูุฏ
2. ุงุจุฒุงุฑ ุณูุชุฒ ูโูููุฏ *ฺฺฏููู* ุขู ุฑุง ุจุง ฺฏุชโูุง ููุทู ุจุณุงุฒุฏ
3. ูุชุฌู ฺฉ "netlist" ุงุณุช ฺฉู ูโุชูุงูุฏ ุฑู FPGA ุจุงุฑฺฏุฐุงุฑ ุดูุฏ

ููู ฺฉุฏูุง VHDL ูุงุจู ุณูุชุฒ ูุณุชูุฏ - ุณุงุฎุชุงุฑูุง ููุท ุดุจูโุณุงุฒ ูุงููุฏ `wait for 10 ns` ุฏุฑ ุดุจูโุณุงุฒ ฺฉุงุฑ ูโฺฉููุฏ ุงูุง ููโุชูุงููุฏ ุณุฎุชโุงูุฒุงุฑ ูุงูุน ุดููุฏ.

</details>

### ุจุฑุง Xilinx Vivado

1. ฺฉ ูพุฑูฺู ุฌุฏุฏ ุฏุฑ Vivado ุงุฌุงุฏ ฺฉูุฏ
2. ููู ูุงูโูุง ุงุฒ ุฏุงุฑฺฉุชูุฑ `src/` ุฑุง ุงุถุงูู ฺฉูุฏ
3. `top_level` ุฑุง ุจู ุนููุงู ูุงฺูู ุจุงูุง ุชูุธู ฺฉูุฏ
4. ูพูโูุง I/O ุฑุง ุจุฑุง ุจุฑุฏ FPGA ุฎูุฏ ูพฺฉุฑุจูุฏ ฺฉูุฏ
5. Synthesis โ Implementation โ Generate Bitstream ุฑุง ุงุฌุฑุง ฺฉูุฏ

### ูพฺฉุฑุจูุฏ ุจุฑุง ุณุฎุชโุงูุฒุงุฑ ูุงูุน

ุจุฑุง ุงุณุชูุงุฏู ูุงูุนุ ุงู ูพุงุฑุงูุชุฑูุง generic ุฑุง ุฏุฑ `top_level.vhd` ุชูุธู ฺฉูุฏ:

```vhdl
-- ุจุฑุง ฺฉูุงฺฉ 100 ูฺฏุงูุฑุชุฒ ู ุฒูุงู debounce ~20ms:
DEBOUNCE_TIME => 2_000_000

-- ุจุฑุง ฺฉูุงฺฉ 100 ูฺฏุงูุฑุชุฒ ู ุฒูุงู ุจุงุฒ ุจูุฏู ~5 ุซุงูู:
UNLOCK_TIME => 500_000_000
```

<details>
<summary>ูุญุงุณุจู ููุงุฏุฑ ุฒูุงู</summary>

ูุฑููู: `ููุฏุงุฑ = ุฒูุงู_ุจู_ุซุงูู ร ูุฑฺฉุงูุณ_ฺฉูุงฺฉ`

ูุซุงูโูุง ุจุฑุง ฺฉูุงฺฉ 100 ูฺฏุงูุฑุชุฒ (100,000,000 ูุฑุชุฒ):
- debounce 20 ููโุซุงูู: 0.020 ร 100,000,000 = 2,000,000
- ุจุงุฒ ุจูุฏู 5 ุซุงูู: 5 ร 100,000,000 = 500,000,000

ุจุฑุง ุดุจูโุณุงุฒุ ุงุฒ ููุงุฏุฑ ฺฉูฺฺฉ (5-10) ุงุณุชูุงุฏู ูโฺฉูู ุชุง ุดุจูโุณุงุฒโูุง ุณุฑุน ุจุงุดูุฏ.

</details>

---

## ูุดุงูุฏู ุดฺฉู ููุฌ

### ุจุงุฒ ฺฉุฑุฏู ุดฺฉู ููุฌโูุง ุฏุฑ GTKWave

```bash
gtkwave simulation/tb_digital_lock.ghw
```

### ุณฺฏูุงูโูุง ฺฉูุฏ ุจุฑุง ูุดุงูุฏู

| ุณฺฏูุงู | ุชูุถุญุงุช |
|--------|---------|
| `clk` | ฺฉูุงฺฉ ุณุณุชู |
| `reset` | ุฑุณุช ูุนุงู-ุจุงูุง |
| `button_A/B/C/D` | ูุฑูุฏโูุง ุฏฺฉูู |
| `lock_status` | ุฎุฑูุฌ: '1' = ุจุงุฒุ '0' = ููู |
| `current_state` | ุญุงูุช ุฏุงุฎู FSM |
| `unlock_timer` | ููุฏุงุฑ ุชุงูุฑ ุดูุงุฑุด ูุนฺฉูุณ |

<details>
<summary>ูฺฉุงุช GTKWave ุจุฑุง ูุจุชุฏุงู</summary>

1. **ุงูุฒูุฏู ุณฺฏูุงูโูุง**: ุฏุฑ ูพูู ฺูพุ ุณูุณูู ูุฑุงุชุจ ุฑุง ุจุงุฒ ฺฉูุฏ ู ุฑู ูุงู ุณฺฏูุงูโูุง ุฏูุจุงุฑ ฺฉูฺฉ ฺฉูุฏ
2. **ุจุฒุฑฺฏููุง**: ุงุฒ ฺุฑุฎ ูุงูุณ ุง ููู View โ Zoom ุงุณุชูุงุฏู ฺฉูุฏ
3. **ูุงูุจุฑ**: ูุฑ ุฌุง ุฎุท ุฒูุงู ฺฉูฺฉ ฺฉูุฏ ุชุง ูฺฉุงูโููุง ุฑุง ุฌุงุจุฌุง ฺฉูุฏ
4. **ูุดุงูฺฏุฑูุง**: 'M' ุฑุง ูุดุงุฑ ุฏูุฏ ุชุง ฺฉ ูุดุงูฺฏุฑ ุฏุฑ ูููุนุช ูฺฉุงูโููุง ุจฺฏุฐุงุฑุฏ
5. **ุฐุฎุฑู ฺุฏูุงู**: File โ Write Save File (ุงูุชุฎุงุจ ุณฺฏูุงู ุดูุง ุฑุง ุฐุฎุฑู ูโฺฉูุฏ)

</details>

---

## ุนุจโุงุจ

### ุฎุทุงูุง ุฑุงุฌ

**"cannot find entity"**
```
error: cannot find entity work.digital_lock
```
*ุฑุงูโุญู*: ูุงูโูุง ููุจุน ุฑุง ูุจู ุงุฒ ุชุณุชโุจูฺโูุง ฺฉุงููพุงู ฺฉูุฏ.

**"assertion failure"**
```
assertion failure: TC2 FAILED: Lock should be UNLOCKED after correct sequence!
```
*ุฑุงูโุญู*: ุจุฑุฑุณ ฺฉูุฏ ูุดุฑุฏู ุฏฺฉููโูุง ูพุงูุณโูุง ุชฺฉโุณฺฉู ุจุงุดูุฏ. FSM ูุฑูุฏโูุง edge-detected ุงูุชุธุงุฑ ุฏุงุฑุฏ.

**"multiple drivers"**
```
error: signal has multiple drivers
```
*ุฑุงูโุญู*: ููุท ฺฉ process ุจุงุฏ ุจู ูุฑ ุณฺฏูุงู ููุฏุงุฑ ุฏูุฏ. ุชุฎุตุตโูุง ุชฺฉุฑุงุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ.

<details>
<summary>ูฺฉุงุช ุนููู ุงุดฺฉุงูโุฒุฏุง</summary>

1. **ุดฺฉู ููุฌโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ**: ูุงู .ghw ุฑุง ุฏุฑ GTKWave ุจุงุฒ ฺฉูุฏ ุชุง ุฏููุงู ฺู ุงุชูุงู ุงูุชุงุฏู ุจุจูุฏ
2. **ุนุจุงุฑุงุช report ุงุถุงูู ฺฉูุฏ**: `report "Debug: got here";` ุฑุง ุฏุฑ ฺฉุฏ VHDL ุฎูุฏ ูุฑุงุฑ ุฏูุฏ
3. **ุณุงุฏู ฺฉูุฏ**: ูุฑ ุจุงุฑ ฺฉ ฺฉุงููพูููุช ุฑุง ุชุณุช ฺฉูุฏ
4. **ุฒูุงูโุจูุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ**: ูุทูุฆู ุดูุฏ ุนุจุงุฑุงุช wait ุฒูุงู ฺฉุงู ุจุฑุง ุงูุชุดุงุฑ ุณฺฏูุงูโูุง ูโุฏููุฏ

</details>

### ุฏุฑุงูุช ฺฉูฺฉ

1. [ูุณุชูุฏุงุช ุชูุตู](docs/) ุฑุง ุจุฑุง ูุฑ ฺฉุงููพูููุช ุจุฑุฑุณ ฺฉูุฏ
2. ฺฉุฏ ุชุณุชโุจูฺ ุฑุง ุจุฑุง ูุซุงูโูุง ุงุณุชูุงุฏู ูุฑูุฑ ฺฉูุฏ
3. ุดฺฉู ููุฌโูุง ุฑุง ุจุฑุง ุฏุฑฺฉ ุฑูุชุงุฑ ุณฺฏูุงู ุจุฑุฑุณ ฺฉูุฏ

---

## ูุณุชูุฏุงุช

ูุณุชูุฏุงุช ุชูุตู ุจุฑุง ูุฑ ฺฉุงููพูููุช ุฏุฑ ุฏุงุฑฺฉุชูุฑ [docs/](docs/) ููุฌูุฏ ุงุณุช:

- [digital_lock.md](docs/digital_lock.md) - ูุนูุงุฑ ู ูพุงุฏูโุณุงุฒ ฺฉูุชุฑูุฑ FSM
- [button_debouncer.md](docs/button_debouncer.md) - ุทุฑุงุญ ูุฏุงุฑ debounce
- [top_level.md](docs/top_level.md) - ฺฉูพุงุฑฺูโุณุงุฒ ุณุณุชู ู ูพฺฉุฑุจูุฏ
- [testbenches.md](docs/testbenches.md) - ูุณุชูุฏุงุช ูุฌููุนู ุชุณุช

### ูุฑุฌุน ุงุณฺฉุฑูพุชโูุง

ุงุณฺฉุฑูพุชโูุง ุงุชููุงุณูู ุฏุฑ [scripts/](scripts/):

| ุงุณฺฉุฑูพุช | ุชูุถุญุงุช |
|---------|---------|
| `install.sh` | ูุตุจ GHDL ู GTKWave |
| `build.sh` | ฺฉุงููพุงู ูุงูโูุง ููุจุน |
| `test.sh` | ุงุฌุฑุง ุชุณุชโุจูฺโูุง |
| `synth.sh` | ุจุฑุฑุณ ูุงุจูุช ุณูุชุฒ |
| `wave.sh` | ุจุงุฒ ฺฉุฑุฏู ููุงุดโุฏููุฏู ุดฺฉู ููุฌ |
| `clean.sh` | ุญุฐู ูุงูโูุง ุชููุฏ ุดุฏู |

---

## ูุฌูุฒ

ุงู ูพุฑูฺู ุจุฑุง ุงูุฏุงู ุขููุฒุด ุงุฑุงุฆู ุดุฏู ุงุณุช.

---

## ูุฏุฑุฏุงู

ุจู ุนููุงู ุจุฎุด ุงุฒ ูพุฑูฺู ุฏุฑุณ CAD (ุทุฑุงุญ ุจู ฺฉูฺฉ ฺฉุงููพูุชุฑ) ุชูุณุนู ุงูุชู ุงุณุช ู ูุดุงูโุฏููุฏู:
- ุทุฑุงุญ ูุงุดู ุญุงูุช ูุชูุงู
- ุจูุชุฑู ุดููโูุง ฺฉุฏููุณ VHDL
- ุฑูุดโุดูุงุณ ุชุฃุฏ ุณุฎุชโุงูุฒุงุฑ
- ุทุฑุงุญ ุฏุฌุชุงู ูุงุจู ุณูุชุฒ
