> **[๐ฌ๐ง English Version](testbenches.md)**

# ูุณุชูุฏุงุช ุชุณุชโุจูฺ

**ุฏุงุฑฺฉุชูุฑ**: `testbench/`
**ูุฏู**: ุชุฃุฏ ุฌุงูุน ุณุณุชู ููู ุฏุฌุชุงู

---

## ููุฑุณุช ูุทุงูุจ

- [ููุฏูู](#ููุฏูู)
- [ุฎูุงุตู ูุฌููุนู ุชุณุช](#ุฎูุงุตู-ูุฌููุนู-ุชุณุช)
- [tb_digital_lock.vhd](#tb_digital_lockvhd)
- [tb_top_level.vhd](#tb_top_levelvhd)
- [tb_fsm_coverage.vhd](#tb_fsm_coveragevhd)
- [tb_edge_cases.vhd](#tb_edge_casesvhd)
- [tb_debouncer.vhd](#tb_debouncervhd)
- [ุงุฌุฑุง ุชุณุชโูุง](#ุงุฌุฑุง-ุชุณุชโูุง)
- [ุฏุฑฺฉ ุฎุฑูุฌ ุชุณุช](#ุฏุฑฺฉ-ุฎุฑูุฌ-ุชุณุช)
- [ููุดุชู ุชุณุชโูุง ุฎูุฏ](#ููุดุชู-ุชุณุชโูุง-ุฎูุฏ)

---

## ููุฏูู

ูุฌููุนู ุชุณุช ฺูุฏู ุณุทุญ ุชุฃุฏ ุงุฑุงุฆู ูโุฏูุฏ:

```mermaid
flowchart TB
    subgraph "ุชุณุชโูุง ูุงุญุฏ"
        tb_lock[tb_digital_lock\nููุทู FSM]
        tb_deb[tb_debouncer\nููุทู ุญุฐู ููุณุงู]
    end

    subgraph "ุชุณุชโูุง ฺฉูพุงุฑฺูโุณุงุฒ"
        tb_top[tb_top_level\nุณุณุชู ฺฉุงูู]
    end

    subgraph "ูพูุดุด ู ูุดุงุฑ"
        tb_cov[tb_fsm_coverage\nูพูุดุด ฑฐฐูช ุญุงูุช]
        tb_edge[tb_edge_cases\nุดุฑุงุท ูุฑุฒ]
    end

    tb_lock --> tb_top
    tb_deb --> tb_top
    tb_top --> tb_cov
    tb_top --> tb_edge

    style tb_lock fill:#e1f5fe
    style tb_deb fill:#e1f5fe
    style tb_top fill:#fff3e0
    style tb_cov fill:#e8f5e9
    style tb_edge fill:#fce4ec
```

| ุณุทุญ | ุชุณุชโุจูฺ | ฺู ฺุฒ ุชุณุช ูโฺฉูุฏ |
|-----|---------|-------------------|
| ูุงุญุฏ | `tb_digital_lock` | ฺฉูุชุฑูุฑ FSM ุจู ุตูุฑุช ูุฌุฒุง |
| ูุงุญุฏ | `tb_debouncer` | ูุงฺูู ุญุฐูโฺฉููุฏู ููุณุงู ุจู ุตูุฑุช ูุฌุฒุง |
| ฺฉูพุงุฑฺูโุณุงุฒ | `tb_top_level` | ุณุณุชู ฺฉุงูู ุจุง ููู ุงุฌุฒุง |
| ูพูุดุด | `tb_fsm_coverage` | ููู ุญุงูุงุช ู ุงูุชูุงูุงุช |
| ูุดุงุฑ | `tb_edge_cases` | ุดุฑุงุท ูุฑุฒ ู ููุงุฑุฏ ฺฏูุดูโุง |

<details>
<summary>ุชุณุชโุจูฺ ฺุณุชุ</summary>

ฺฉ **ุชุณุชโุจูฺ** ฺฉุฏ VHDL ุงุณุช ฺฉู ฺฉุฏูุง VHDL ุฏฺฏุฑ ุฑุง ุชุณุช ูโฺฉูุฏ. ุจุฑ ุฎูุงู ูุงฺููโูุง ูุงุจู ุณูุชุฒุ ุชุณุชโุจูฺโูุง:
- ุจู ุณุฎุชโุงูุฒุงุฑ ูุงูุน ุชุจุฏู ููโุดููุฏ
- ูโุชูุงููุฏ ุงุฒ ุณุงุฎุชุงุฑูุง ูุงููุฏ `wait for 10 ns` (ุชุฃุฎุฑูุง ุฒูุงู) ุงุณุชูุงุฏู ฺฉููุฏ
- ูุญุฑฺฉ ุชููุฏ ูโฺฉููุฏ (ูุดุฑุฏูโูุง ุฌุนู ุฏฺฉูู)
- ูุชุงุฌ ุฑุง ุจุฑุฑุณ ูโฺฉููุฏ (ุชุฃุฏูโูุง)
- ูุถุนุช ููููุช/ุดฺฉุณุช ุฑุง ฺฏุฒุงุฑุด ูโุฏููุฏ

ุขู ุฑุง ูุงููุฏ ุชุณุชโูุง ูุงุญุฏ ุจุฑุง ุณุฎุชโุงูุฒุงุฑ ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ.

</details>

---

## ุฎูุงุตู ูุฌููุนู ุชุณุช

| ุชุณุชโุจูฺ | ููุงุฑุฏ ุชุณุช | ุชุฃุฏูโูุง | ูุถุนุช |
|---------|-----------|-----------|--------|
| `tb_digital_lock` | ถ | ถ | โ ููู ูููู |
| `tb_top_level` | ฑฑ | ฑฑ | โ ููู ูููู |
| `tb_fsm_coverage` | ต ุญุงูุชุ ฑฒ ุงูุชูุงู | ฑธ | โ ููู ูููู |
| `tb_edge_cases` | ฑฐ | ฒฒ | โ ููู ูููู |
| `tb_debouncer` | ด | ด | โ ููู ูููู |
| **ูุฌููุน** | **ณถ** | **ถฑ** | **โ ููู ูููู** |

---

## tb_digital_lock.vhd

**ูุฏู**: ุชุณุช ูุงุญุฏ ูุณุชู ูุงุดู ุญุงูุช
**ุชุนุฏุงุฏ ุฎุทูุท**: ฒถด
**ูุงู**: `testbench/tb_digital_lock.vhd`

### ููุงุฑุฏ ุชุณุช

| ุดูุงุณู | ูุงู ุชุณุช | ุชูุถุญุงุช | ูุชุฌู ููุฑุฏ ุงูุชุธุงุฑ |
|-------|---------|---------|------------------|
| TC1 | ุชุณุช ุจุงุฒูุดุงู | ุงุนูุงู ุณฺฏูุงู ุจุงุฒูุดุงู | lock_status = '0' |
| TC2 | ุชูุงู ุตุญุญ | AโBโCโA | lock_status = '1' |
| TC3 | ุชูุงู ุงุดุชุจุงู | AโBโD | lock_status = '0' |
| TC4 | ุฏฺฉูู ุงูู ุงุดุชุจุงู | Bโ(ุณูพุณ ุตุญุญ) | lock_status = '1' ูพุณ ุงุฒ ุจุงุฒุงุจ |
| TC5 | ููู ุฎูุฏฺฉุงุฑ ูุฌุฏุฏ | ุงูุชุธุงุฑ ูพุณ ุงุฒ ุจุงุฒ ุดุฏู | lock_status = '0' |
| TC6 | ุจุงุฒูุดุงู ุญู ุชูุงู | AโBโ[ุจุงุฒูุดุงู] | lock_status = '0' |

### ุฌุฒุฆุงุช ฺฉูุฏ ูพุงุฏูโุณุงุฒ

```vhdl
-- ูพุงูุณ ุชฺฉโุณฺฉู ุฏฺฉูู (ุขูฺู FSM ุงูุชุธุงุฑ ุฏุงุฑุฏ)
button_A <= '1';
wait for clk_period;      -- ุจุฑุง ุฏููุงู ฑ ฺฉูุงฺฉ ุจุงูุง
button_A <= '0';
wait for clk_period * 2;  -- ุงูุชุธุงุฑ ุจุฑุง ูพุฑุฏุงุฒุด FSM
```

<details>
<summary>ฺุฑุง ูพุงูุณโูุง ุชฺฉโุณฺฉูุ</summary>

ูุงุดู ุญุงูุช ูุฑูุฏโูุง ุชุดุฎุต ูุจู ุดุฏู ุงุฒ ุญุฐูโฺฉููุฏู ููุณุงู ุงูุชุธุงุฑ ุฏุงุฑุฏ. ุฏุฑ ุณุฎุชโุงูุฒุงุฑ ูุงูุน:
- ฺฉุงุฑุจุฑ ุฏฺฉูู ุฑุง ูุดุงุฑ ูโุฏูุฏ โ ุญุฐูโฺฉููุฏู ููุณุงู ฺฉ ูพุงูุณ ุฎุฑูุฌ ูโุฏูุฏ
- ูพุงูุณ ุฏููุงู ฺฉ ุณฺฉู ฺฉูุงฺฉ ุทูู ูโฺฉุดุฏ

ุชุณุชโุจูฺ ุจุงุฏ ุงู ุฑูุชุงุฑ ุฑุง ุดุจูโุณุงุฒ ฺฉูุฏ. ูพุงูุณโูุง ุทููุงูโุชุฑ ุจุงุนุซ ูโุดููุฏ ฺฉู ูุงุดู ุญุงูุช ฺูุฏู ยซูุดุฑุฏูยป ุจุจูุฏ ู ฺูุฏู ุญุงูุช ูพุดุฑู ฺฉูุฏ.

</details>

### ุงุฌุฑุง ุงู ุชุณุช

```bash
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 testbench/tb_digital_lock.vhd
ghdl -e --std=08 tb_digital_lock
ghdl -r --std=08 tb_digital_lock --wave=simulation/tb_digital_lock.ghw
```

---

## tb_top_level.vhd

**ูุฏู**: ุชุณุช ฺฉูพุงุฑฺูโุณุงุฒ ุณุณุชู ฺฉุงูู
**ุชุนุฏุงุฏ ุฎุทูุท**: ดฒต
**ูุงู**: `testbench/tb_top_level.vhd`

### ููุงุฑุฏ ุชุณุช

| ุดูุงุณู | ูุงู ุชุณุช | ุชูุถุญุงุช |
|-------|---------|---------|
| TC1 | ุจุงุฒ ฺฉุฑุฏู ูพุงู | ุชูุงู ุตุญุญ ุจุงุฒ ูโฺฉูุฏ |
| TC2 | ุฏฺฉูู ุงูู ุงุดุชุจุงู | B ุงุจุชุฏุง ูุดุฑุฏู ุดุฏู |
| TC3 | ุฏฺฉูู ูุงู ุงุดุชุจุงู | AโBโD (ุงุดุชุจุงู ุฏุฑ ูุฑุญูู ณ) |
| TC4 | ุฏฺฉูู ุขุฎุฑ ุงุดุชุจุงู | AโBโCโB (ุงุดุชุจุงู ุฏุฑ ูุฑุญูู ด) |
| TC5 | ููู ุฎูุฏฺฉุงุฑ ูุฌุฏุฏ | ุชุงูุฑ ูููุถ ูโุดูุฏ |
| TC6 | ุจุงุฒูุดุงู ุญู ุชูุงู | ูุทุน ุจุง ุจุงุฒูุดุงู |
| TC7 | ุชูุงู ุตุญุญ ุชฺฉุฑุงุฑ | ฺูุฏู ุจุงุฒ ฺฉุฑุฏู ูููู |
| TC8 | ุฏฺฉูู ูฺฏู ุฏุงุดุชู ุดุฏู | ุชุณุช ุชุดุฎุต ูุจู |
| TC9 | ฺูุฏู ุฏฺฉูู ููุฒูุงู | ููู ุฏฺฉููโูุง ฺฉุฌุง |
| TC10 | ูุดุฑุฏู ุณุฑุน ุฏฺฉููโูุง | ุชูุงู ุณุฑุน |
| BONUS | ุฏฺฉูู ูุฑุจ D | D ูุฑฺฏุฒ ูุจุงุฏ ุจุงุฒ ฺฉูุฏ |

### ูฺฺฏโูุง ฺฉูุฏ

- ุชุณุชโูุง ุดุงูู **ุฑูุชุงุฑ ุญุฐูโฺฉููุฏู ููุณุงู** ูุณุชูุฏ
- **ุฏฺฉููโูุง ููุณุงู** ุจุฑุง TC7+ ุดุจูโุณุงุฒ ูโุดูุฏ
- **ุชุดุฎุต ูุจู** ุชุณุช ูโุดูุฏ (ุฏฺฉููโูุง ูฺฏู ุฏุงุดุชู ุดุฏู)
- ุงุฒ ุฑููโูุง ฺฉูฺฉ ุจุฑุง ุฎูุงูุง ุงุณุชูุงุฏู ูโุดูุฏ

```vhdl
-- ุฑูู ฺฉูฺฉ ุจุฑุง ูุดุฑุฏู ุชูุฒ ุฏฺฉูู
procedure press_button(signal btn : out std_logic) is
begin
    btn <= '1';
    wait for clk_period * (DEBOUNCE_CYCLES + 5);
    btn <= '0';
    wait for clk_period * (DEBOUNCE_CYCLES + 5);
end procedure;
```

### ุงุฌุฑุง ุงู ุชุณุช

```bash
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 src/button_debouncer.vhd
ghdl -a --std=08 src/top_level.vhd
ghdl -a --std=08 testbench/tb_top_level.vhd
ghdl -e --std=08 tb_top_level
ghdl -r --std=08 tb_top_level --wave=simulation/tb_top_level.ghw
```

---

## tb_fsm_coverage.vhd

**ูุฏู**: ูพูุดุด ฑฐฐูช ุญุงูุช ู ุงูุชูุงู
**ุชุนุฏุงุฏ ุฎุทูุท**: ฑทธ
**ูุงู**: `testbench/tb_fsm_coverage.vhd`

### ุงูุฏุงู ูพูุดุด

| ููุน ูพูุดุด | ูุฏู | ูุชุฌู |
|----------|-----|--------|
| ูพูุดุด ุญุงูุช | ต/ต ุญุงูุช | โ ฑฐฐูช |
| ูพูุดุด ุงูุชูุงู | ููู ุงูุชูุงูุงุช ูุนุชุจุฑ | โ ฑฐฐูช |
| ุงูุชูุงูุงุช ุฎุทุง | ููู ุฏฺฉููโูุง ูุงูุนุชุจุฑ | โ ฑฐฐูช |

### ุญุงูุงุช ุชุฃุฏ ุดุฏู

1. **STATE_LOCKED**: ุญุงูุช ุงูููุ ูพุณ ุงุฒ ุจุงุฒูุดุงูุ ูพุณ ุงุฒ ุฏฺฉูู ุงุดุชุจุงู
2. **STATE_FIRST**: ูพุณ ุงุฒ ูุดุฑุฏู A ุงุฒ LOCKED
3. **STATE_SECOND**: ูพุณ ุงุฒ ูุดุฑุฏู B ุงุฒ FIRST
4. **STATE_THIRD**: ูพุณ ุงุฒ ูุดุฑุฏู C ุงุฒ SECOND
5. **STATE_UNLOCKED**: ูพุณ ุงุฒ ูุดุฑุฏู A ุงุฒ THIRD

### ุงูุชูุงูุงุช ุชุฃุฏ ุดุฏู

**ุงูุชูุงูุงุช ุตุญุญ**:
- LOCKED โ FIRST (A)
- FIRST โ SECOND (B)
- SECOND โ THIRD (C)
- THIRD โ UNLOCKED (A)
- UNLOCKED โ LOCKED (ุงุชูุงู ุฒูุงู)

**ุงูุชูุงูุงุช ุฎุทุง** (ููู โ LOCKED):
- LOCKED + B/C/D โ ุฏุฑ LOCKED ูโูุงูุฏ
- FIRST + A/C/D โ LOCKED
- SECOND + A/B/D โ LOCKED
- THIRD + B/C/D โ LOCKED

### ุงุฌุฑุง ุงู ุชุณุช

```bash
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 testbench/tb_fsm_coverage.vhd
ghdl -e --std=08 tb_fsm_coverage
ghdl -r --std=08 tb_fsm_coverage --wave=simulation/tb_fsm_coverage.ghw
```

---

## tb_edge_cases.vhd

**ูุฏู**: ุดุฑุงุท ูุฑุฒ ู ุชุณุช ูุดุงุฑ
**ุชุนุฏุงุฏ ุฎุทูุท**: ฒณด
**ูุงู**: `testbench/tb_edge_cases.vhd`

### ููุงุฑุฏ ุชุณุช

| ุดูุงุณู | ูุงู ุชุณุช | ฺู ฺุฒ ุชุณุช ูโฺฉูุฏ |
|-------|---------|-------------------|
| ฑ | ุจุงุฒูุดุงู ุญู UNLOCKED | ุจุงุฒูุดุงู ูุถุนุช ุจุงุฒ ุฑุง ูพุงฺฉ ูโฺฉูุฏ |
| ฒ | ฺูุฏู ุจุงุฒูุดุงู ูุชูุงู | ุณุณุชู ูพุงุฏุงุฑ ูโูุงูุฏ |
| ณ | ุฏฺฉูู ุฏุฑ ูุฑุฒ ุจุงุฒูุดุงู | ููุฑุฏ ูุจู ุฒูุงูโุจูุฏ |
| ด | ููู ุฏฺฉููโูุง ููุฒูุงู | ูุฏุฑุช ฺูุฏ ุฏฺฉูู |
| ต | ุชูุงูโูุง ุณุฑุน (ฑฐx) | ุชุณุช ูุดุงุฑ |
| ถ | ูุฑุฒ ุชุงูุฑ | ุฏุฑุณุช ูุจู/ุจุนุฏ ุงุฒ ุงุชูุงู ุฒูุงู |
| ท | ุงุชูุงู ุฒูุงู ุชูุงู ูุงูุต | ุชูุงู ูุงฺฉุงูู |
| ธ | ุจุงุฒุงุจ ูพุณ ุงุฒ ุงุดุชุจุงู | ุงุดุชุจุงู ุณูพุณ ุตุญุญ |
| น | ุชฺฉุฑุงุฑ ููุงู ุฏฺฉูู | AโAโAโA |
| ฑฐ | ุชูุงู ุทููุงู ุจุง ุฎุทุงูุง | ฺูุฏู ุฎุทุง ุณูพุณ ููููุช |

### ุฎูุงุตู ุชุฃุฏูโูุง

```
PASSED: 22
FAILED: 0
=== ููู ุชุณุชโูุง ููุงุฑุฏ ูุจู ูููู ุดุฏูุฏ ===
```

### ุงูฺฏููุง ฺฉูุฏ ุชุณุช

```vhdl
-- ุชุณุช ูุฑุฒ ุชุงูุฑ
unlock_sequence;
check(lock_status = '1', "ุงุจุชุฏุง ุจุงุฒ");
wait for clk_period * 4;  -- ุฏุฑุณุช ูุจู ุงุฒ ุงุชูุงู ุฒูุงู
check(lock_status = '1', "ูููุฒ ุจุงุฒ ูุจู ุงุฒ ุงุชูุงู ุฒูุงู");
wait for clk_period * 5;  -- ูพุณ ุงุฒ ุงุชูุงู ุฒูุงู
check(lock_status = '0', "ููู ูพุณ ุงุฒ ุงุชูุงู ุฒูุงู");
```

### ุงุฌุฑุง ุงู ุชุณุช

```bash
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 testbench/tb_edge_cases.vhd
ghdl -e --std=08 tb_edge_cases
ghdl -r --std=08 tb_edge_cases --wave=simulation/tb_edge_cases.ghw
```

---

## tb_debouncer.vhd

**ูุฏู**: ุชุณุช ูุงุญุฏ ูุงฺูู ุญุฐูโฺฉููุฏู ููุณุงู
**ุชุนุฏุงุฏ ุฎุทูุท**: ~ฑฐฐ
**ูุงู**: `testbench/tb_debouncer.vhd`

### ููุงุฑุฏ ุชุณุช

| ุดูุงุณู | ูุงู ุชุณุช | ุชูุถุญุงุช |
|-------|---------|---------|
| ฑ | ูุดุฑุฏู ุชูุฒ | ูุฑูุฏ ูพุงุฏุงุฑุ ุจุงุฏ ูพุงูุณ ุชููุฏ ฺฉูุฏ |
| ฒ | ูุดุฑุฏู ููุณุงู | ููุณุงู ุดุจูโุณุงุฒ ุดุฏูุ ุจุงุฏ ููุชุฑ ฺฉูุฏ |
| ณ | ูุดุฑุฏู ฺฉูุชุงู | ุฎู ฺฉูุชุงูุ ุจุงุฏ ูุงุฏุฏู ฺฏุฑูุชู ุดูุฏ |
| ด | ุฏฺฉูู ูฺฏู ุฏุงุดุชู ุดุฏู | ูุดุฑุฏู ุทููุงูุ ููุท ฺฉ ูพุงูุณ |

### ุชุณุช ฺฉูุฏ: ููุชุฑ ููุณุงู

```vhdl
-- ุดุจูโุณุงุฒ ูุดุฑุฏู ููุณุงู ุฏฺฉูู
report "ุชุณุช ฒ: ูุดุฑุฏู ููุณุงู ุฏฺฉูู" severity note;
button_in <= '1'; wait for clk_period * 2;
button_in <= '0'; wait for clk_period;  -- ููุณุงู!
button_in <= '1'; wait for clk_period * 2;
button_in <= '0'; wait for clk_period;  -- ููุณุงู!
button_in <= '1';  -- ุจุงูุงุฎุฑู ูพุงุฏุงุฑ
wait for clk_period * (DEBOUNCE_CYCLES + 3);
button_in <= '0';
```

### ุงุฌุฑุง ุงู ุชุณุช

```bash
ghdl -a --std=08 src/button_debouncer.vhd
ghdl -a --std=08 testbench/tb_debouncer.vhd
ghdl -e --std=08 tb_debouncer
ghdl -r --std=08 tb_debouncer --wave=simulation/tb_debouncer.ghw
```

---

## ุงุฌุฑุง ุชุณุชโูุง

### ุงุฌุฑุง ููู ุชุณุชโูุง

```bash
#!/bin/bash
# ุฐุฎุฑู ุจู ุนููุงู run_all_tests.sh

# ฺฉุงููพุงู ููุงุจุน
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 src/button_debouncer.vhd
ghdl -a --std=08 src/top_level.vhd

# ุงุฌุฑุง ูุฑ ุชุณุชโุจูฺ
for tb in tb_digital_lock tb_top_level tb_fsm_coverage tb_edge_cases tb_debouncer; do
    echo "=========================================="
    echo "ุฏุฑ ุญุงู ุงุฌุฑุง: $tb"
    echo "=========================================="
    ghdl -a --std=08 testbench/$tb.vhd
    ghdl -e --std=08 $tb
    ghdl -r --std=08 $tb --wave=simulation/$tb.ghw 2>&1
    echo ""
done

echo "ููู ุชุณุชโูุง ฺฉุงูู ุดุฏ! ุดฺฉู ููุฌโูุง ุฏุฑ simulation/ ุฐุฎุฑู ุดุฏูุฏ"
```

### ุงุฌุฑุง ุชุณุช ุชฺฉ

```bash
# ูุซุงู: ููุท ุชุณุช ูพูุดุด FSM ุฑุง ุงุฌุฑุง ฺฉูุฏ
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 testbench/tb_fsm_coverage.vhd
ghdl -e --std=08 tb_fsm_coverage
ghdl -r --std=08 tb_fsm_coverage
```

### ูุดุงูุฏู ุดฺฉู ููุฌโูุง

```bash
# ูุดุงูุฏู ุดฺฉู ููุฌ ูุฑ ุชุณุช
gtkwave simulation/tb_digital_lock.ghw
```

---

## ุฏุฑฺฉ ุฎุฑูุฌ ุชุณุช

### ุณุทูุญ ุดุฏุช

| ุดุฏุช | ูุนู | ุงูุฏุงู |
|-----|------|-------|
| `note` | ุงุทูุงุนุงุช | ูพุดุฑูุช ุนุงุฏ |
| `warning` | ูุดฺฉู ุงุญุชูุงู | ุจุฑุฑุณ ฺฉูุฏ |
| `error` | ุดฺฉุณุช ุชุณุช | ูุงุฒ ุจู ุงุตูุงุญ |
| `failure` | ุฎุทุง ฺฉุดูุฏู | ุดุจูโุณุงุฒ ูุชููู ูโุดูุฏ |

### ุฎุฑูุฌ ููููู (ููููุช)

```
=== ุดุฑูุน ุชุณุชโุจูฺ ููู ุฏุฌุชุงู ===
TC1: ุชุณุช ุนููฺฉุฑุฏ ุจุงุฒูุดุงู
TC1 ูููู: ุจุงุฒูุดุงู ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ
TC2: ุชุณุช ุชูุงู ุตุญุญ A->B->C->A
TC2 ูููู: ุชูุงู ุตุญุญ ุณุณุชู ุฑุง ุจุงุฒ ูโฺฉูุฏ
...
=== ููู ููุงุฑุฏ ุชุณุช ฺฉุงูู ุดุฏ ===
=== ุชุณุชโุจูฺ ููู ุฏุฌุชุงู ูููู ุดุฏ ===
```

### ุฎุฑูุฌ ููููู (ุดฺฉุณุช)

```
TC2: ุชุณุช ุชูุงู ุตุญุญ A->B->C->A
tb_digital_lock.vhd:138:9:@150ns:(assertion error):
    TC2 ุดฺฉุณุช: ููู ุจุงุฏ ูพุณ ุงุฒ ุชูุงู ุตุญุญ ุจุงุฒ ุจุงุดุฏ!
```

<details>
<summary>ูุญูู ุงุดฺฉุงูโุฒุฏุง ุดฺฉุณุช ุชุณุช</summary>

1. **ุจุฑฺุณุจ ุฒูุงู ุฑุง ุจุฑุฑุณ ฺฉูุฏ**: `@150ns` ุจู ุดูุง ูโฺฏูุฏ ฺู ุฒูุงู ุดฺฉุณุช ุฑุฎ ุฏุงุฏู
2. **ุดฺฉู ููุฌ ุฑุง ุจุงุฒ ฺฉูุฏ**: `gtkwave simulation/tb_digital_lock.ghw`
3. **ุจู ุฒูุงู ุจุฑูุฏ**: ุจู ฑตฐns ุฏุฑ ุดฺฉู ููุฌ ุจุฑูุฏ
4. **ููุงุฏุฑ ุณฺฏูุงู ุฑุง ุจุฑุฑุณ ฺฉูุฏ**: ุจู ูุดุฑุฏูโูุง ุฏฺฉููุ ฺฏุฐุงุฑูุง ุญุงูุช ูฺฏุงู ฺฉูุฏ
5. **ุจู ุนูุจ ุฑุฏุงุจ ฺฉูุฏ**: ูพุฏุง ฺฉูุฏ ฺฉู ุฑูุชุงุฑ ฺฉุฌุง ุงุฒ ุงูุชุธุงุฑ ููุญุฑู ุดุฏู

ูุดฺฉูุงุช ุฑุงุฌ:
- ุฒูุงูโุจูุฏ ุงุดุชุจุงู (ุฎู ุณุฑุน/ฺฉูุฏ)
- ุณฺฏูุงู ููฺฏุงู ุจุฑุฑุณ ูพุงุฏุงุฑ ูุณุช
- ุดุฑุงุท ุงููู ุงุดุชุจุงู

</details>

---

## ููุดุชู ุชุณุชโูุง ุฎูุฏ

### ุณุงุฎุชุงุฑ ูพุงู

```vhdl
library IEEE;
use IEEE.STD_LOGIC_1164.ALL;

entity tb_my_test is
    -- ุชุณุชโุจูฺโูุง ูพูุฑุช ูุฏุงุฑูุฏ
end tb_my_test;

architecture Behavioral of tb_my_test is
    -- ุณฺฏูุงูโูุง ููุทุจู ุจุง ูพูุฑุชโูุง DUT
    signal clk : std_logic := '0';
    signal reset : std_logic := '0';
    -- ... ุณฺฏูุงูโูุง ุจุดุชุฑ

    constant clk_period : time := 10 ns;

begin
    -- ูููููโุณุงุฒ ุฏุณุชฺฏุงู ุชุญุช ุชุณุช (DUT)
    uut: entity work.my_component
        port map (
            clk => clk,
            reset => reset
            -- ... ูฺฏุงุดุชโูุง ุจุดุชุฑ
        );

    -- ุชููุฏ ฺฉูุงฺฉ
    clk_process: process
    begin
        clk <= '0'; wait for clk_period/2;
        clk <= '1'; wait for clk_period/2;
    end process;

    -- ูุญุฑฺฉ ุชุณุช
    stim_proc: process
    begin
        report "ุดุฑูุน ุชุณุช" severity note;

        -- ฺฉุฏ ุชุณุช ุดูุง ุงูุฌุง
        reset <= '1';
        wait for clk_period * 2;
        reset <= '0';

        -- ุจุฑุฑุณ ูุชุงุฌ
        assert some_signal = expected_value
            report "ุชุณุช ุดฺฉุณุช ุฎูุฑุฏ!"
            severity error;

        report "ุชุณุช ูููู!" severity note;
        wait;  -- ูพุงุงู ุดุจูโุณุงุฒ
    end process;

end Behavioral;
```

### ุงูฺฏููุง ููุฏ

**ุฑูู ฺฉูฺฉ**:
```vhdl
procedure pulse_button(signal btn : out std_logic) is
begin
    btn <= '1';
    wait for clk_period;
    btn <= '0';
    wait for clk_period * 2;
end procedure;
```

**ุฑูู ุจุฑุฑุณ**:
```vhdl
procedure check(condition : boolean; msg : string) is
begin
    assert condition
        report "ุดฺฉุณุช: " & msg
        severity error;
    if condition then
        report "ูููู: " & msg severity note;
    end if;
end procedure;
```

**ุดูุงุฑูุฏู ุจุฑุง ุขูุงุฑ ุชุณุช**:
```vhdl
signal pass_count : integer := 0;
signal fail_count : integer := 0;

-- ุฏุฑ ุฑูู ุจุฑุฑุณ:
if condition then
    pass_count <= pass_count + 1;
else
    fail_count <= fail_count + 1;
end if;
```
