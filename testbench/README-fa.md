> **[๐ฌ๐ง English Version](README.md)**

# ูุงูโูุง ุชุณุชโุจูฺ (`testbench/`)

ุงู ุฏุงุฑฺฉุชูุฑ ุญุงู ุชุณุชโุจูฺโูุง VHDL ุจุฑุง ุชุฃุฏ ุณุณุชู ููู ุฏุฌุชุงู ุงุณุช.

---

## ูุงูโูุง

| ูุงู | ุชุณุชโูุง | ูุฏู |
|------|--------|-----|
| [tb_digital_lock.vhd](tb_digital_lock.vhd) | ถ | ุชุณุช ูุงุญุฏ FSM |
| [tb_top_level.vhd](tb_top_level.vhd) | ฑฑ | ฺฉูพุงุฑฺูโุณุงุฒ ฺฉุงูู ุณุณุชู |
| [tb_fsm_coverage.vhd](tb_fsm_coverage.vhd) | ฑธ | ูพูุดุด ุญุงูุช/ุงูุชูุงู |
| [tb_edge_cases.vhd](tb_edge_cases.vhd) | ฒฒ | ุดุฑุงุท ูุฑุฒ |
| [tb_debouncer.vhd](tb_debouncer.vhd) | ด | ุชุณุช ูุงุญุฏ debouncer |

**ูุฌููุน: ถฑ ุจุฑุฑุณ ุฏุฑ ต ุชุณุชโุจูฺ**

---

## ุดุฑูุน ุณุฑุน

### ุงุฌุฑุง ููู ุชุณุชโูุง

```bash
# ุงุฒ ุฏุงุฑฺฉุชูุฑ ุฑุดู ูพุฑูฺู
cd /path/to/pattern-based-digital-lock

# ุงุจุชุฏุง ฺฉุงููพุงู ููุงุจุน
ghdl -a --std=08 src/digital_lock.vhd
ghdl -a --std=08 src/button_debouncer.vhd
ghdl -a --std=08 src/top_level.vhd

# ุงุฌุฑุง ูุฑ ุชุณุชโุจูฺ
for tb in tb_digital_lock tb_top_level tb_fsm_coverage tb_edge_cases tb_debouncer; do
    ghdl -a --std=08 testbench/$tb.vhd
    ghdl -e --std=08 $tb
    ghdl -r --std=08 $tb --wave=simulation/$tb.ghw
done
```

### ุงุฌุฑุง ุชุณุช ุชฺฉ

```bash
ghdl -a --std=08 testbench/tb_digital_lock.vhd
ghdl -e --std=08 tb_digital_lock
ghdl -r --std=08 tb_digital_lock --wave=simulation/tb_digital_lock.ghw
```

---

## ุชูุถุญุงุช ุชุณุชโูุง

### tb_digital_lock.vhd

**ุชุณุช ูุงุญุฏ ุจุฑุง ฺฉูุชุฑูุฑ FSM**

ุชุณุช ููุทู ุงุตู ููู ุจุฏูู debouncing:
- TC1: ุนููฺฉุฑุฏ ุฑุณุช
- TC2: ุชูุงู ุตุญุญ ุจุงุฒ ฺฉุฑุฏู (AโBโCโA)
- TC3: ุชุดุฎุต ุชูุงู ุงุดุชุจุงู (AโBโD)
- TC4: ุจุงุฒุงุจ ุงุฒ ุฏฺฉูู ุงูู ุงุดุชุจุงู
- TC5: ุชุงูุฑ ููู ุฎูุฏฺฉุงุฑ
- TC6: ุฑุณุช ุญู ุชูุงู

---

### tb_top_level.vhd

**ุชุณุช ฺฉูพุงุฑฺูโุณุงุฒ ุจุฑุง ุณุณุชู ฺฉุงูู**

ุชุณุช ุณุณุชู ฺฉุงูู ุดุงูู debouncerูุง:
- TC1-TC6: ุนููฺฉุฑุฏ ูพุงู (ูุดุงุจู ุชุณุช ูุงุญุฏ)
- TC7: ุชูุงูโูุง ุจุงุฒ ฺฉุฑุฏู ุชฺฉุฑุงุฑ
- TC8: ูฺฏู ุฏุงุดุชู ุฏฺฉูู (ุชุณุช edge detection)
- TC9: ฺูุฏู ุฏฺฉูู ููุฒูุงู
- TC10: ูุดุฑุฏู ุณุฑุน ุฏฺฉููโูุง
- BONUS: ุชุณุช ุฏฺฉูู ูุฑุจ D

---

### tb_fsm_coverage.vhd

**ูพูุดุด ฑฐฐูช ุญุงูุช ู ุงูุชูุงู**

ุชุฃุฏ ุงูฺฉู ูุฑ ุญุงูุช ูุงุจู ุฏุณุชุฑุณ ู ูุฑ ุงูุชูุงู ฺฉุงุฑ ูโฺฉูุฏ:
- ููู ต ุญุงูุช ุจุงุฒุฏุฏ ุดุฏู
- ููู ุงูุชูุงูโูุง ุตุญุญ ุชุณุช ุดุฏู
- ููู ุงูุชูุงูโูุง ุฎุทุง ุชุณุช ุดุฏู (ุฏฺฉููโูุง ุงุดุชุจุงู)

---

### tb_edge_cases.vhd

**ุดุฑุงุท ูุฑุฒ ู ุชุณุช ูุดุงุฑ**

ุชุณุช ุณูุงุฑููุง ุบุฑูุนููู:
- ุฑุณุช ุญู ุจุงุฒ ุจูุฏู
- ฺูุฏู ุฑุณุช ูุชูุงู
- ูุฑุฒูุง ุฒูุงูโุจูุฏ ุฏฺฉูู
- ูุดุฑุฏู ููุฒูุงู ุฏฺฉููโูุง
- ุชุณุช ูุดุงุฑ ุชูุงู ุณุฑุน (ฑฐ ุจุงุฑ)
- ุดุฑุงุท ูุฑุฒ ุชุงูุฑ
- ุจุงุฒุงุจ ุฎุทุง

---

### tb_debouncer.vhd

**ุชุณุช ูุงุญุฏ ุจุฑุง ูุงฺูู debouncer**

ุชุณุช ููุชุฑ ููุณุงู ู edge detection:
- ูุดุฑุฏู ุชูุฒ ุฏฺฉูู
- ุดุจูโุณุงุฒ ุฏฺฉูู ููุณุงู
- ููุชุฑ ูุดุฑุฏู ฺฉูุชุงู
- ุฏฺฉูู ูฺฏู ุฏุงุดุชู ุดุฏู (ูพุงูุณ ุชฺฉ)

---

## ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ

### ููููุช

```
=== Starting Digital Lock Testbench ===
TC1: Testing reset functionality
TC1 PASSED: Reset works correctly
TC2: Testing correct sequence A->B->C->A
TC2 PASSED: Correct sequence unlocks the system
...
=== All Test Cases Completed ===
=== Digital Lock Testbench PASSED ===
```

### ุดฺฉุณุช

```
tb_digital_lock.vhd:138:9:@150ns:(assertion error):
    TC2 FAILED: Lock should be UNLOCKED after correct sequence!
```

<details>
<summary>ุงุดฺฉุงูโุฒุฏุง ุดฺฉุณุช ุชุณุช</summary>

1. ุฒูุงูโููุฑ ุฑุง ุงุฏุฏุงุดุช ฺฉูุฏ (ูุซูุงู `@150ns`)
2. ุดฺฉู ููุฌ ุฑุง ุจุงุฒ ฺฉูุฏ: `gtkwave simulation/tb_digital_lock.ghw`
3. ุจู ุฒูุงู ุดฺฉุณุช ุจุฑูุฏ
4. ููุงุฏุฑ ุณฺฏูุงู ุฑุง ุจุฑุฑุณ ฺฉูุฏ
5. ุจู ุนูุจ ุฑุฏุงุจ ฺฉูุฏ ุชุง ุนูุช ุงุตู ุฑุง ูพุฏุง ฺฉูุฏ

</details>

---

## ูุงูโูุง ุดฺฉู ููุฌ

ูพุณ ุงุฒ ุงุฌุฑุง ุชุณุชโูุงุ ูุงูโูุง ุดฺฉู ููุฌ ุฏุฑ `simulation/` ุฐุฎุฑู ูโุดููุฏ:

```bash
# ูุดุงูุฏู ุดฺฉู ููุฌโูุง
gtkwave simulation/tb_digital_lock.ghw
```

---

## ูุณุชูุฏุงุช ุชูุตู

[docs/testbenches.md](../docs/testbenches.md) ุฑุง ุจุฑุง ููุงุฑุฏ ุฒุฑ ุจุจูุฏ:
- ุชูุถุญุงุช ุชูุตู ููุงุฑุฏ ุชุณุช
- ููุดุชู ุชุณุชโูุง ุฎูุฏุชุงู
- ุฏุฑฺฉ ุฎุฑูุฌ assertion
- ุงูฺฏููุง ู ุชูุงุจุน ฺฉูฺฉ ุชุณุช
